{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay.api.js","../src/main.js"],"sourcesContent":["// IMAGES GALLERY\nexport const gallery = document.querySelector('.images-gallery');\n\nexport function renderImages(response) {\n  // control log\n  console.log(response.hits);\n  // all needed images\n  const images = response.hits;\n  // creating markup\n  const galleryMarkup = images.map(\n    ({\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      downloads,\n      comments,\n    }) =>\n      `\n      <li class=\"gallery-item\">\n        <a class=\"image-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n        </a>\n\n        <div class=\"tags-container\">\n          <div class=\"tag\">\n            <p class=\"tag-name\">likes</p>\n            <span class=\"tag-details\">${likes}</span>\n          </div>\n          <div class=\"tag\">\n            <p class=\"tag-name\">views</p>\n            <span class=\"tag-details\">${views}</span>\n          </div>\n          <div class=\"tag\">\n            <p class=\"tag-name\">downloads</p>\n            <span class=\"tag-details\">${downloads}</span>\n          </div>\n          <div class=\"tag\">\n            <p class=\"tag-name\">comments</p>\n            <span class=\"tag-details\">${comments}</span>\n          </div>\n        </div>\n      </li>\n      `\n  ).join(\"\");\n\n  gallery.insertAdjacentHTML('beforeend', galleryMarkup);\n}\n","// MAKING SERVER REQUEST\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\nimport {renderImages} from \"./render-functions\";\n\nexport function findImages(image) {\n  const imageSearchParams = new URLSearchParams({\n    key: '42878081-96b370588af70c81d3a302fb0',\n    q: image,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    order: 'latest',\n    safesearch: true,\n  });\n\n  fetch(`https://pixabay.com/api/?${imageSearchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('response.code');\n        return;\n      } else {\n        return response.json();\n      }\n    })\n    .then(response => {\n      if (!response.hits.length) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#fafafb',\n          messageSize: '16px',\n          maxWidth: '432px',\n          backgroundColor: 'rgb(239, 64, 64)',\n          timeout: false,\n          position: 'topRight',\n          progressBarColor: 'rgb(181, 27, 27)',\n          // icon: 'icon-error-sign',\n        });\n      } else {\n        renderImages(response)\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n","import {findImages} from \"./js/pixabay.api\";\n\nconst imageSearchForm = document.querySelector('.image-search-form');\nimageSearchForm.addEventListener('submit', handleImageSearchFormSubmit);\n\nfunction handleImageSearchFormSubmit(event) {\n  event.preventDefault();\n  if (event.currentTarget.elements.searchImage.value.trim() === '') {\n    alert('You should fill in all the fields');\n    return;\n  }\n  const imageToSearchFor = event.currentTarget.elements.searchImage.value;\n  event.currentTarget.reset();\n\n  findImages(imageToSearchFor);\n}\n\n\n\n\n\n\n\n\n"],"names":["gallery","renderImages","response","galleryMarkup","webformatURL","largeImageURL","tags","likes","views","downloads","comments","findImages","image","imageSearchParams","iziToast","error","imageSearchForm","handleImageSearchFormSubmit","event","imageToSearchFor"],"mappings":"svBACO,MAAMA,EAAU,SAAS,cAAc,iBAAiB,EAExD,SAASC,EAAaC,EAAU,CAErC,QAAQ,IAAIA,EAAS,IAAI,EAIzB,MAAMC,EAFSD,EAAS,KAEK,IAC3B,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,UAAAC,EACA,SAAAC,CACD,IACC;AAAA;AAAA,sCAEgCL,CAAa;AAAA,4CACPD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAM9BC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAS;AAAA;AAAA;AAAA;AAAA,wCAITC,CAAQ;AAAA;AAAA;AAAA;AAAA,OAKhD,EAAI,KAAK,EAAE,EAETV,EAAQ,mBAAmB,YAAaG,CAAa,CACvD,CCzCO,SAASQ,EAAWC,EAAO,CAChC,MAAMC,EAAoB,IAAI,gBAAgB,CAC5C,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,MAAO,SACP,WAAY,EAChB,CAAG,EAED,MAAM,4BAA4BC,CAAiB,EAAE,EAClD,KAAKX,GAAY,CAChB,GAAKA,EAAS,GAIZ,OAAOA,EAAS,OAHhB,MAAM,IAAI,MAAM,eAAe,CAKvC,CAAK,EACA,KAAKA,GAAY,CACXA,EAAS,KAAK,OAcjBD,EAAaC,CAAQ,EAbrBY,EAAS,MAAM,CACb,QACE,2EACF,aAAc,UACd,YAAa,OACb,SAAU,QACV,gBAAiB,mBACjB,QAAS,GACT,SAAU,WACV,iBAAkB,kBAE5B,CAAS,CAIT,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CC7CA,MAAMC,EAAkB,SAAS,cAAc,oBAAoB,EACnEA,EAAgB,iBAAiB,SAAUC,CAA2B,EAEtE,SAASA,EAA4BC,EAAO,CAE1C,GADAA,EAAM,eAAc,EAChBA,EAAM,cAAc,SAAS,YAAY,MAAM,KAAM,IAAK,GAAI,CAChE,MAAM,mCAAmC,EACzC,MACD,CACD,MAAMC,EAAmBD,EAAM,cAAc,SAAS,YAAY,MAClEA,EAAM,cAAc,QAEpBP,EAAWQ,CAAgB,CAC7B"}
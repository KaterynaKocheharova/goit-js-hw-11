{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay.api.js","../src/main.js"],"sourcesContent":["// ======================================= INLCUDING SIMPLE LIGHTBOX\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n// ======================================== GALLERY VARIABLES\nexport const gallery = document.querySelector('.images-gallery');\n\n// ======================================== RENDERING IMAGES\nexport function renderImages(response) {\n  let myLightboxGallery;\n  const images = response.hits;\n  // creating markup\n  const galleryMarkup = images.map(\n    ({\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      downloads,\n      comments,\n    }) =>\n      `\n      <li class=\"gallery-item\">\n        <a class=\"image-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n        </a>\n\n        <div class=\"tags-container\">\n          <div class=\"tag\">\n            <p class=\"tag-name\">likes</p>\n            <span class=\"tag-details\">${likes}</span>\n          </div>\n          <div class=\"tag\">\n            <p class=\"tag-name\">views</p>\n            <span class=\"tag-details\">${views}</span>\n          </div>\n          <div class=\"tag\">\n            <p class=\"tag-name\">downloads</p>\n            <span class=\"tag-details\">${downloads}</span>\n          </div>\n          <div class=\"tag\">\n            <p class=\"tag-name\">comments</p>\n            <span class=\"tag-details\">${comments}</span>\n          </div>\n        </div>\n      </li>\n      `\n  ).join(\"\");\n\n  // adding markup\n  gallery.innerHTML = galleryMarkup;\n\n  // simple lightbox creating or refreshing\n  if (!myLightboxGallery) {\n    myLightboxGallery = new SimpleLightbox('.gallery a');\n  } else {\n    // If SimpleLightbox is already initialized, call refresh method\n    myLightboxGallery.refresh();\n  }\n}\n","// ============================================= INCLUDING IZITOAST\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { renderImages } from './render-functions';\nimport { gallery } from './render-functions';\n\n// ===================================== MAKING SERVER REQUEST TO FIND IMAGES\nexport function findImages(image) {\n\n  const imageSearchParams = new URLSearchParams({\n    key: '42878081-96b370588af70c81d3a302fb0',\n    q: image,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    order: 'latest',\n    safesearch: true,\n  });\n\n  // making request to pixabay\n  fetch(`https://pixabay.com/api/?${imageSearchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('response.code');\n        return;\n      } else {\n        return response.json();\n      }\n    })\n    // no images handling\n    .then(response => {\n      if (!response.hits.length) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#fafafb',\n          messageSize: '16px',\n          maxWidth: '432px',\n          backgroundColor: 'rgb(239, 64, 64)',\n          position: 'topRight',\n          progressBarColor: 'rgb(181, 27, 27)',\n          // icon: 'icon-error-sign',\n        });\n      } else {\n        // calling rendering images function\n        renderImages(response);\n      }\n    }) // handling an error\n    .catch(error => {\n      console.log(error);\n    });\n}\n","// ======================================= INCLUDING IZITOAST\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { findImages } from './js/pixabay.api';\nimport { gallery } from './js/render-functions';\n\nconst imageSearchForm = document.querySelector('.image-search-form');\nimageSearchForm.addEventListener('submit', handleImageSearchFormSubmit);\n\n\n// ======================================= HANDLE FORM SUBMIT\n\nfunction handleImageSearchFormSubmit(event) {\n  event.preventDefault();\n  if (event.currentTarget.elements.searchImage.value.trim() === '') {\n    iziToast.warning({\n      message: 'Write what image you want to search for',\n      position: 'topRight'\n    });\n    return;\n  }\n  const imageToSearchFor = event.currentTarget.elements.searchImage.value;\n  event.currentTarget.reset();\n  // Adding loader\n  const loaderMarkup = `<span class=\"loader\"></span>`;\n  gallery.innerHTML = loaderMarkup;\n  // calling findimages function; making a request\n  findImages(imageToSearchFor);\n}\n"],"names":["gallery","renderImages","response","myLightboxGallery","galleryMarkup","webformatURL","largeImageURL","tags","likes","views","downloads","comments","SimpleLightbox","findImages","image","imageSearchParams","iziToast","error","imageSearchForm","handleImageSearchFormSubmit","event","imageToSearchFor","loaderMarkup"],"mappings":"6vBAKO,MAAMA,EAAU,SAAS,cAAc,iBAAiB,EAGxD,SAASC,EAAaC,EAAU,CACrC,IAAIC,EAGJ,MAAMC,EAFSF,EAAS,KAEK,IAC3B,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,UAAAC,EACA,SAAAC,CACD,IACC;AAAA;AAAA,sCAEgCL,CAAa;AAAA,4CACPD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAM9BC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAS;AAAA;AAAA;AAAA;AAAA,wCAITC,CAAQ;AAAA;AAAA;AAAA;AAAA,OAKhD,EAAI,KAAK,EAAE,EAGTX,EAAQ,UAAYI,EAGfD,EAIHA,EAAkB,QAAO,EAHzBA,EAAoB,IAAIS,EAAe,YAAY,CAKvD,CCpDO,SAASC,EAAWC,EAAO,CAEhC,MAAMC,EAAoB,IAAI,gBAAgB,CAC5C,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,MAAO,SACP,WAAY,EAChB,CAAG,EAGD,MAAM,4BAA4BC,CAAiB,EAAE,EAClD,KAAKb,GAAY,CAChB,GAAKA,EAAS,GAIZ,OAAOA,EAAS,OAHhB,MAAM,IAAI,MAAM,eAAe,CAKvC,CAAK,EAEA,KAAKA,GAAY,CACXA,EAAS,KAAK,OAcjBD,EAAaC,CAAQ,EAbrBc,EAAS,MAAM,CACb,QACE,2EACF,aAAc,UACd,YAAa,OACb,SAAU,QACV,gBAAiB,mBACjB,SAAU,WACV,iBAAkB,kBAE5B,CAAS,CAKT,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CC3CA,MAAMC,EAAkB,SAAS,cAAc,oBAAoB,EACnEA,EAAgB,iBAAiB,SAAUC,CAA2B,EAKtE,SAASA,EAA4BC,EAAO,CAE1C,GADAA,EAAM,eAAc,EAChBA,EAAM,cAAc,SAAS,YAAY,MAAM,KAAM,IAAK,GAAI,CAChEJ,EAAS,QAAQ,CACf,QAAS,0CACT,SAAU,UAChB,CAAK,EACD,MACD,CACD,MAAMK,EAAmBD,EAAM,cAAc,SAAS,YAAY,MAClEA,EAAM,cAAc,QAEpB,MAAME,EAAe,+BACrBtB,EAAQ,UAAYsB,EAEpBT,EAAWQ,CAAgB,CAC7B"}